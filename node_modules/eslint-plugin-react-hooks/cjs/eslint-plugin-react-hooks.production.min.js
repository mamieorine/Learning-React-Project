/** @license React v16.6.1
 * eslint-plugin-react-hooks.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */

'use strict';function G(a){return"Identifier"===a.type?/^use[A-Z0-9].*$/.test(a.name):"MemberExpression"===a.type&&!a.computed&&G(a.property)?(a=a.object,"Identifier"===a.type&&"React"===a.name):!1}function I(a){return"Identifier"===a.type?!/^[a-z]/.test(a.name):!1}function K(a){for(;a;){var b=L(a);if(b&&(I(b)||G(b)))return!0;a=a.parent}return!1}
function L(a){if("FunctionDeclaration"===a.type||"FunctionExpression"===a.type&&a.id)return a.id;if("FunctionExpression"===a.type||"ArrowFunctionExpression"===a.type)return"VariableDeclarator"===a.parent.type&&a.parent.init===a?a.parent.id:"AssignmentExpression"===a.parent.type&&a.parent.right===a&&"="===a.parent.operator?a.parent.left:"Property"!==a.parent.type||a.parent.value!==a||a.parent.computed?"AssignmentPattern"!==a.parent.type||a.parent.right!==a||a.parent.computed?void 0:a.parent.left:a.parent.key}
function M(a){var b=a.resolved;if(null==b||!Array.isArray(b.defs))return!1;b=b.defs[0];if(null==b||null==b.node.init)return!1;var c=b.node.init;if(null==c.callee)return!1;c=c.callee;"MemberExpression"!==c.type||"React"!==c.object.name||null==c.property||c.computed||(c=c.property);if("Identifier"===c.type)return b=b.node.id,"useRef"===c.name&&"Identifier"===b.type||("useState"===c.name||"useReducer"===c.name)&&"ArrayPattern"===b.type&&2===b.elements.length&&Array.isArray(a.resolved.identifiers)&&b.elements[1]===
a.resolved.identifiers[0]?!0:!1}function R(a){if("Identifier"===a.type)return a.name;if("MemberExpression"!==a.type||a.computed)throw Error("Unsupported node type: "+a.type);var b=R(a.object);a=R(a.property);return b+"."+a}
function S(a,b){var c=!1;"MemberExpression"!==a.type||"Identifier"!==a.object.type||"React"!==a.object.name||"Identifier"!==a.property.type||a.computed||(a=a.property,c=!0);if("Identifier"===a.type)switch(a.name){case "useEffect":case "useLayoutEffect":case "useCallback":case "useMemo":return 0;case "useImperativeHandle":return 1;default:if(!c&&b&&b.additionalHooks){c=void 0;try{c=R(a)}catch(f){if(/Unsupported node type/.test(f.message))return 0;throw f;}return b.additionalHooks.test(c)?0:-1}return-1}}
function T(a,b){for(var c=[a],f=null;c.length;){f=c.shift();if("Identifier"===f.type&&f.name===b.name&&f.range[0]===b.range[0]&&f.range[1]===b.range[1])return f;if(f.range[0]<=b.range[0]&&f.range[1]>=b.range[1]){a=!0;var m=!1,v=void 0;try{for(var e=Object.entries(f)[Symbol.iterator](),k;!(a=(k=e.next()).done);a=!0){var h=k.value,p=h[1];"parent"!==h[0]&&(U(p)?(p.parent=f,c.push(p)):Array.isArray(p)&&p.forEach(function(a){U(a)&&(a.parent=f,c.push(a))}))}}catch(u){m=!0,v=u}finally{try{!a&&e.return&&
e.return()}finally{if(m)throw v;}}}}return null}function V(a){for(var b="",c=0;c<a.length;c++)b+=a[c],0===c&&2===a.length?b+=" and ":c===a.length-2&&2<a.length?b+=", and ":c<a.length-1&&(b+=", ");return b}function U(a){return"object"===typeof a&&null!==a&&!Array.isArray(a)&&"string"===typeof a.type}
module.exports={rules:{"rules-of-hooks":{create:function(a){var b=[],c=[];return{onCodePathSegmentStart:function(a){return c.push(a)},onCodePathSegmentEnd:function(){return c.pop()},onCodePathStart:function(){return b.push(new Map)},onCodePathEnd:function(c,m){function f(a){var b=f.cache,q=b.get(a.id);if(null===q){if(!p.has(a.id)){p.add(a.id);b=!0;q=!1;var d=void 0;try{for(var l=a.prevSegments[Symbol.iterator](),e;!(b=(e=l.next()).done);b=!0)f(e.value)}catch(C){q=!0,d=C}finally{try{!b&&l.return&&
l.return()}finally{if(q)throw d;}}}return 0}if(void 0!==q)return q;b.set(a.id,null);if(c.thrownSegments.includes(a))q=0;else if(0===a.prevSegments.length)q=1;else{q=0;l=!0;e=!1;var z=void 0;try{d=a.prevSegments[Symbol.iterator]();for(var n;!(l=(n=d.next()).done);l=!0)q+=f(n.value)}catch(C){e=!0,z=C}finally{try{!l&&d.return&&d.return()}finally{if(e)throw z;}}}a.reachable&&0===q?b.delete(a.id):b.set(a.id,q);return q}function e(a){var b=e.cache,d=b.get(a.id);if(null===d){if(!p.has(a.id)){p.add(a.id);
b=!0;d=!1;var l=void 0;try{for(var f=a.nextSegments[Symbol.iterator](),n;!(b=(n=f.next()).done);b=!0)e(n.value)}catch(C){d=!0,l=C}finally{try{!b&&f.return&&f.return()}finally{if(d)throw l;}}}return 0}if(void 0!==d)return d;b.set(a.id,null);if(c.thrownSegments.includes(a))d=0;else if(0===a.nextSegments.length)d=1;else{d=0;f=!0;n=!1;var m=void 0;try{l=a.nextSegments[Symbol.iterator]();for(var h;!(f=(h=l.next()).done);f=!0)d+=e(h.value)}catch(C){n=!0,m=C}finally{try{!f&&l.return&&l.return()}finally{if(n)throw m;
}}}b.set(a.id,d);return d}function k(a){var b=k.cache,d=b.get(a.id);if(null===d)return Infinity;if(void 0!==d)return d;b.set(a.id,null);if(0===a.prevSegments.length)d=1;else{d=Infinity;var l=!0,c=!1,f=void 0;try{for(var e=a.prevSegments[Symbol.iterator](),n;!(l=(n=e.next()).done);l=!0){var m=k(n.value);m<d&&(d=m)}}catch(W){c=!0,f=W}finally{try{!l&&e.return&&e.return()}finally{if(c)throw f;}}d+=1}b.set(a.id,d);return d}var h=b.pop();if(0!==h.size){var p=new Set;f.cache=new Map;e.cache=new Map;k.cache=
new Map;var u=e(c.initialSegment),x=L(m),F=K(m),A=x?I(x)||G(x):!1,B=Infinity,g=!0,r=!1,D=void 0;try{for(var y=c.finalSegments[Symbol.iterator](),t;!(g=(t=y.next()).done);g=!0){var d=t.value;if(d.reachable){var l=k(d);l<B&&(B=l)}}}catch(z){r=!0,D=z}finally{try{!g&&y.return&&y.return()}finally{if(r)throw D;}}g=!0;r=!1;D=void 0;try{for(var n=h[Symbol.iterator](),N;!(g=(N=n.next()).done);g=!0){var O=N.value,E=O[0],X=O[1];if(E.reachable){var Y=0===E.nextSegments.length?B<=k(E):B<k(E),Z=f(E)*e(E),P=p.has(E.id);
h=!0;y=!1;t=void 0;try{for(var J=X[Symbol.iterator](),Q;!(h=(Q=J.next()).done);h=!0){var w=Q.value;P&&a.report({node:w,message:'React Hook "'+a.getSource(w)+'" may be executed more than once. Possibly because it is called in a loop. React Hooks must be called in the exact same order in every component render.'});if(A){if(!P&&Z!==u){var H='React Hook "'+a.getSource(w)+'" is called conditionally. React Hooks must be called in the exact same order in every component render.'+(Y?" Did you accidentally call a React Hook after an early return?":
"");a.report({node:w,message:H})}}else if(!m.parent||"MethodDefinition"!==m.parent.type&&"ClassProperty"!==m.parent.type||m.parent.value!==m)if(x){var aa='React Hook "'+a.getSource(w)+'" is called in '+('function "'+a.getSource(x)+'" ')+"which is neither a React function component or a custom React Hook function.";a.report({node:w,message:aa})}else if("Program"!==m.type&&F){var ba='React Hook "'+a.getSource(w)+'" cannot be called inside a callback. React Hooks must be called in a React function component or a custom React Hook function.';
a.report({node:w,message:ba})}}}catch(z){y=!0,t=z}finally{try{!h&&J.return&&J.return()}finally{if(y)throw t;}}}}}catch(z){r=!0,D=z}finally{try{!g&&n.return&&n.return()}finally{if(r)throw D;}}}},CallExpression:function(a){if(G(a.callee)){var f=b[b.length-1],v=c[c.length-1],e=f.get(v);e||(e=[],f.set(v,e));e.push(a.callee)}}}}},"exhaustive-deps":{meta:{fixable:"code",schema:[{type:"object",additionalProperties:!1,properties:{additionalHooks:{type:"string"}}}]},create:function(a){function b(b){function f(a){var d=
!0,c=!1,e=void 0;try{for(var h=a.references[Symbol.iterator](),m;!(d=(m=h.next()).done);d=!0){var k=m.value;if(k.resolved&&p.has(k.resolved.scope)){var g=T(b,k.identifier);var u="MemberExpression"!==g.parent.type||g.parent.object!==g||"current"===g.parent.property.name||g.parent.computed||null!=g.parent.parent&&"CallExpression"===g.parent.parent.type&&g.parent.parent.callee===g.parent?g:g.parent;var t=R(u);if(!x.has(t)){var v=M(k);x.set(t,{isStatic:v,reference:k})}}}}catch(H){c=!0,e=H}finally{try{!d&&
h.return&&h.return()}finally{if(c)throw e;}}d=!0;c=!1;e=void 0;try{for(var r=a.childScopes[Symbol.iterator](),w;!(d=(w=r.next()).done);d=!0)f(w.value)}catch(H){c=!0,e=H}finally{try{!d&&r.return&&r.return()}finally{if(c)throw e;}}}function v(a,b,c,e){return 0===a.size?null:(1<a.size?"":b+" ")+c+" "+(1<a.size?"dependencies":"dependency")+": "+V(Array.from(a).sort().map(function(a){return"'"+a+"'"}))+(". Either "+e+" "+(1<a.size?"them":"it")+" or remove the dependency array.")}if(("FunctionExpression"===
b.type||"ArrowFunctionExpression"===b.type)&&"CallExpression"===b.parent.type){var e=S(b.parent.callee,c);if(b.parent.arguments[e]===b){var k=b.parent.callee,h=b.parent.arguments[e+1];if(h){e=a.getScope();for(var p=new Set,u=e.upper;u;){p.add(u);if("function"===u.type)break;u=u.upper}if(u){var x=new Map;f(e);var F=[];"ArrayExpression"!==h.type?a.report({node:h,message:"React Hook "+a.getSource(k)+" has a second argument which is not an array literal. This means we can't statically verify whether you've passed the correct dependencies."}):
h.elements.forEach(function(b){if(null!==b)if("SpreadElement"===b.type)a.report({node:b,message:"React Hook "+a.getSource(k)+" has a spread element in its dependency array. This means we can't statically verify whether you've passed the correct dependencies."});else{var d=void 0;try{d=R(b)}catch(n){if(/Unsupported node type/.test(n.message)){a.report({node:b,message:"React Hook "+a.getSource(k)+" has a complex expression in the dependency array. Extract it to a separate variable so it can be statically checked."});
return}throw n;}F.push({key:d,node:b})}});var A=[],B=new Set,g=new Set,r=new Set,D=Array.from(x.keys()),y=!1;F.forEach(function(a){var b=a.key;D.some(function(a){return a===b||a.startsWith(b+".")})?-1===A.indexOf(b)?A.push(b):B.add(b):g.add(b)});x.forEach(function(b,c){var d=b.isStatic;b=b.reference;b.writeExpr&&(y=!0,a.report({node:b.writeExpr,message:"Assignments to the '"+c+"' variable from inside a React "+a.getSource(k)+" Hook will not persist between re-renders. If it's only needed by this Hook, move the variable inside it. Alternatively, declare a ref with the useRef Hook, and keep the mutable value in its 'current' property."}));
A.some(function(a){return c===a||c.startsWith(a+".")})||d||(A.push(c),r.add(c))});(function(){if(0===F.length)return!0;var a=F.map(function(a){return a.key}),b=a.slice().sort();return a.join(",")===b.join(",")})()&&A.sort();if(0!==B.size+r.size+g.size&&!y){e="";if(0<g.size){var t=null;Array.from(g.keys()).forEach(function(a){null===t&&a.endsWith(".current")&&(t=a)});null!==t&&(e=" Mutable values like '"+t+"' aren't valid dependencies because their mutation doesn't re-render the component.")}a.report({node:h,
message:"React Hook "+a.getSource(k)+" has "+(v(r,"a","missing","include")||v(g,"an","unnecessary","exclude")||v(B,"a","duplicate","omit"))+e,fix:function(a){return a.replaceText(h,"["+A.join(", ")+"]")}})}}}}}}var c={additionalHooks:a.options&&a.options[0]&&a.options[0].additionalHooks?new RegExp(a.options[0].additionalHooks):void 0};return{FunctionExpression:b,ArrowFunctionExpression:b}}}}};
